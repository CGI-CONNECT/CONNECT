<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="" />
<meta name="author" content="" />
<link rel="shortcut icon" href="resources/images/favicon-admingui.ico" type="image/x-icon" />
<link rel="icon" href="resources/images/favicon-admingui.ico" type="image/x-icon" />

<title>Gateway Administrative Console : Gateway Status</title>
</h:head>
    
<!-- Bootstrap core CSS -->
<link href="resources/css/bootstrap.css" rel="stylesheet" />

<!-- Custom styles for this template -->
<link href="resources/css/dashboard.css" rel="stylesheet" />

<!-- Tablesort theme CSS -->
<link href="resources/css/theme.default.css" rel="stylesheet" />

    <f:event id="event-listener" listener="#{eventBean.setUp}" type="preRenderView" />
    
    
<h:body>

    <div class="container-fluid" style="height: 100%;">
        <div class="row" style="height: 100%;">

            <!-- BEGIN: LEFT COLUMN - SIDEBAR NAVIGATION -->
            <div class="col-xs-2 sidebar sidebar-scroll">
                <h1 class="page-header">Gateway Administrative Console</h1>

                <h2 class="section-header"><div class="pull-right"><a href="#"><i class="glyphicon glyphicon-minus"></i></a></div>
					Gateway Status
				</h2>
                <ul class="nav nav-sidebar sidebar-orange">
                    <li class="active"><a href="#tab_dash"><i class="glyphicon glyphicon-dashboard"></i> Server
                            Dashboard</a></li>
                    <li><a href="#tab_stats"><i class="glyphicon glyphicon-stats"></i> Performance Statistics</a></li>
                    <li><a href="#tab_remotes"><i class="glyphicon glyphicon-list"></i> Remote Gateway List</a></li>
                </ul>

                <h2 class="section-header"><div class="pull-right"><a href="#"><i class="glyphicon glyphicon-minus"></i></a></div>
					Activity Logs 
				</h2>
                <ul class="nav nav-sidebar sidebar-blue">
                    <li><a href="logs.xhtml#tab_event"><i class="glyphicon glyphicon-list-alt"></i> Event Logs</a></li>
                    <li><a href="logs.xhtml#tab_audit"><i class="glyphicon glyphicon-list-alt"></i> Audit Logs</a></li>
                    <li><a href="logs.xhtml#tab_system"><i class="glyphicon glyphicon-list-alt"></i> System Logs</a></li>
                </ul>

                <h2 class="section-header"><div class="pull-right"><a href="#"><i class="glyphicon glyphicon-minus"></i></a></div>
					CONNECT Configuration
				</h2>
                <ul class="nav nav-sidebar sidebar-purple">
                    <li><a href=""><i class="glyphicon glyphicon-cog"></i> Screen 1</a></li>
                    <li><a href=""><i class="glyphicon glyphicon-cog"></i> Screen 2</a></li>
                    <li><a href=""><i class="glyphicon glyphicon-cog"></i> Screen 3</a></li>
                </ul>

                <h2 class="section-header"><div class="pull-right"><a href="#"><i class="glyphicon glyphicon-minus"></i></a></div>
					Direct Configuration
				</h2>
                <ul class="nav nav-sidebar sidebar-purple">
                    <li><a href=""><i class="glyphicon glyphicon-cog"></i> Screen 1</a></li>
                    <li><a href=""><i class="glyphicon glyphicon-cog"></i> Screen 2</a></li>
                    <li><a href=""><i class="glyphicon glyphicon-cog"></i> Screen 3</a></li>
                </ul>

                <h2 class="section-header"><div class="pull-right"><a href="#"><i class="glyphicon glyphicon-minus"></i></a></div>
					Account Management
				</h2>
                <ul class="nav nav-sidebar sidebar-purple">
                    <li><a href="acctmanage.xhtml#tab_users"><i class="glyphicon glyphicon-user"></i> User Accounts</a></li>
                    <li><a href="acctmanage.xhtml#tab_certificate"><i class="glyphicon glyphicon-lock"></i> Certificate Management</a></li>
                </ul>
			
				<div class="copyright">
					Copyright &copy; 2009-2014, United States Government. All rights reserved. <a href="#" data-toggle="modal" data-target="#modal-copyright">MORE <i class="glyphicon glyphicon-new-window"></i></a>
				</div>
            </div>
            <!-- END: LEFT COLUMN - SIDEBAR NAVIGATION -->

            <!-- BEGIN: RIGHT COLUMN - Primary content is located here -->
            <div class="col-xs-offset-2 col-xs-10 main">

                <!-- BEGIN: UTILITY NAVIGATION -->
                <div class="navbar nav-utility" role="navigation">
                    <!--
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">Project name</a>
				</div>
				-->
                    <div class=""> <!-- ORIGINALLY:  class="navbar-collapse collapse" -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" title="User Profile">Logged in as <strong>#{loginBean.userName}</strong></a>
                                <ul class="dropdown-menu" style="min-width: 100%;" role="menu" aria-labelledby="dLabel">
                                    <li style="margin-left: 15px;"><h:form><h:commandLink value="Log Out" action="#{loginBean.logout}" /></h:form></li>
                                </ul>
                            </li>
                            <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" title="Settings">&#x202F;<i class="glyphicon glyphicon-wrench"></i>&#x202F;</a>
								<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
									<li><a role="menuitem" tabindex="-1" href="acctmanage.xhtml#tab_users">User Accounts</a></li>
									<li><a role="menuitem" tabindex="-1" href="acctmanage.xhtml#tab_certificate">Certificate Management</a></li>
									<li class="divider"></li>
									<li><a role="menuitem" tabindex="-1" href="#">Other Tools</a></li>
								</ul>
							</li>
                            <li><a href="#" title="Send a Message">&#x202F;<i class="glyphicon glyphicon-envelope"></i>&#x202F;</a></li>
                            <li><a href="#" title="Help">&#x202F;<i class="glyphicon glyphicon-question-sign"></i>&#x202F;</a></li>
                        </ul>
                        <form class="navbar-form navbar-right">
                            <i class="glyphicon glyphicon-search"></i><input class="form-control" placeholder="Enter Search Query..." type="text" />
                        </form>
                    </div>
                </div>
                <!-- END: UTILITY NAVIGATION -->

                <!-- BEGIN: MAIN CONTENT SECTION -->
                <div class="main-content">
                    <h1 class="section-header">Gateway Status</h1>

                    <!-- BEGIN: MAIN CONTENT - TAB BAR NAVIGATION -->
                    <div class="nav-section-tabs tabs-orange" id="nav-section-tabs">
                        <div class="navbar" role="navigation">
                            <ul class="nav nav-tabs">
                                <li class="active"><a href="#dash" data-toggle="tab" title="Server Dashboard">Server Dashboard</a></li>
                                <li><a href="#stats" data-toggle="tab" title="Performance Statistics">Performance Statistics</a></li>
                                <li><a href="#remotes" data-toggle="tab" title="Remote Gateway List">Remote Gateway List</a></li>
                            </ul>
                        </div>
                    </div>
                    <!-- END: MAIN CONTENT - TAB BAR NAVIGATION -->

                    <!-- BEGIN: MAIN CONTENT - TAB PANES - All the data/information is contained here -->
                    <div class="tab-content">                
                        <!-- BEGIN: TAB PANE - GATEWAY STATUS DASHBOARD -->
                        <div class="tab-pane active" id="dash">
                            <div class="content-block">
                                <ui:insert name="dash_insert">
                                    <ui:include src="DashboardPrime.xhtml"/>
                                </ui:insert>
                            </div>
                        </div>
                        <!-- END: TAB PANE - GATEWAY STATUS DASHBOARD -->

                        <!-- BEGIN: TAB PANE - PERFORMANCE STATISTICS -->
                        <div class="tab-pane" id="stats">
                            <div class="content-block">
                                <h2 class="subsection-header">CONNECT Performance Statistics</h2>
                                <div class="chart-block">
                                    <div id="chart-stats-connect"></div>
                                </div>
                            </div>
                            <div class="content-block">
                                <h2 class="subsection-header">Direct Performance Statistics</h2>
                            </div>
                        </div>
                        <!-- END: TAB PANE - PERFORMANCE STATISTICS -->

                        <!-- BEGIN: TAB PANE - REMOTE GATEWAYS -->
                        <div class="tab-pane" id="remotes">
                            <div class="content-block">
                                <h2 class="subsection-header">Remote Gateway List</h2>
                                <div class="table-responsive">

                                    <h:dataTable id="dashboardId" value="#{eventBean.totalEvents}"
                                        var="organization" styleClass="table table-striped table-remotegateways">
                                        <h:column>
                                            <f:facet name="header">Gateway</f:facet>
                                            <h:outputText value="#{organization.organizationName}" />
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">PD</f:facet>
                                            <h:outputText value="#{organization.pdCount}" />
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">DQ</f:facet>
                                            <h:outputText value="#{organization.dqCount}" />
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">DR</f:facet>
                                            <h:outputText value="#{organization.drCount}" />
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">DS</f:facet>
                                            <h:outputText value="#{organization.dsCount}" />
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">AD</f:facet>
                                            <h:outputText value="#{organization.adCount}" />
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">Direct</f:facet>
                                            <h:outputText value="#{organization.directCount}" />
                                        </h:column>

                                        <h:column>
                                            <f:facet name="header">Total</f:facet>
                                            <h:outputText value="#{organization.totalCount}" />
                                        </h:column>

                                    </h:dataTable>
                                    <!-- colgroup valign="middle" span="1" width="14%" class="hcid"></colgroup>
                                        <colgroup valign="middle" span="6"></colgroup>
                                        <colgroup valign="middle" span="1" width="14%" class="total"></colgroup -->
                                </div>
                            </div>
                        </div>
                        <!-- END: TAB PANE - REMOTE GATEWAYS -->
                    </div>
                    <!-- END: MAIN CONTENT - TAB PANES - All the data/information is contained here -->

                </div>
                <!-- END: MAIN CONTENT SECTION -->

            </div>
            <!-- END: RIGHT COLUMN - Primary content is located here -->

        </div>
        <!-- Close the ROW -->
    </div>
    <!-- Close the CONTAINER -->

	<!-- BEGIN: MODAL - COPYRIGHT -->
	<div class="modal fade" id="modal-copyright" tabindex="-1" role="dialog" aria-labelledby="modal-copyright-label" aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title" id="modal-copyright-label">COPYRIGHT STATEMENT</h4>
				</div>
				<div class="modal-body">
					<ui:include src="copyright.xhtml" />
				</div>
			</div>
		</div>
	</div>
	<!-- END: MODAL - COPYRIGHT -->

    <!-- Bootstrap core JavaScript
================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    
    <h:outputScript library="js" name="bootstrap.min.js" />  
    <h:outputScript library="js" name="jquery-1.10.2.min.js" />
    <h:outputScript library="js" name="admingui.js" />
    <h:outputScript library="js" name="jquery.tablesorter.min.js" />
    
	<script>
	$(document).ready(function(){
		$(function(){
			$("table").tablesorter();
		});
	});
	</script>

    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <script>
	$(function() {
		$('#chart-stats-connect').highcharts({
			chart : {
				//spacingBottom:0
				height:200
			},
			title : {
				text : null,
				x : -20
			},
			subtitle : {
				text : null,
				x : -20
			},
			credits : {
				enabled : false
			},
			exporting : {
				enabled : false
			},
			xAxis : {
				categories : [ 'Jan 7',
						'Jan 8', 'Jan 9',
						'Jan 10', 'Jan 11',
						'Jan 12', 'Jan 13',
						'Jan 14', 'Jan 15',
						'Jan 16', 'Jan 17',
						'Jan 18' ]
			},
			yAxis : {
				title : {
					text : null
				},
				min : -5,
				startOnTick : false,
				allowDecimals : false,
				tickInterval : 5,
				plotLines : [ {
					value : 0,
					width : 1,
					color : '#808080'
				} ]
			},
			tooltip : {
				valueSuffix : '',
				shared : true
			},
			legend : {
				layout : 'horizontal',
				align : 'center',
				verticalAlign : 'bottom',
				borderWidth : 0,
				itemMarginTop : 5
			},
			series : [
					{
						name : 'Inbound Messages',
						data : [ 8, 8, 11, 16,
								19, 23, 26, 28,
								24, 19, 15, 11 ]
					},
					{
						name : 'Outbound Messages',
						data : [ 2, 2, 6, 11,
								17, 25, 22, 24,
								20, 14, 9, 3 ]
					},
					{
						name : 'Failed Messages',
						data : [ 3, 1, 4, 8,
								14, 17, 19, 18,
								14, 9, 4, 1 ]
					},
					{
						name : 'Requests Failed Due to Authentication Failure',
						data : [ 1, 0, 5, 8,
								11, 14, 16, 16,
								13, 5, 6, 4 ]
					} ],
			plotOptions : {
				line : {
					marker : {
						fillColor : '#ffffff',
						lineColor : null,
						lineWidth : 3,
						radius : 7,
						symbol : 'circle'
					}
				}
			}
		});
	});
	</script>

</h:body>
</html>