<?xml version="1.0" encoding="UTF-8"?>
<!--
  /*
   * Copyright (c) 2009-2017, United States Government, as represented by the Secretary of Health and Human Services.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *     * Redistributions of source code must retain the above
   *       copyright notice, this list of conditions and the following disclaimer.
   *     * Redistributions in binary form must reproduce the above copyright
   *       notice, this list of conditions and the following disclaimer in the documentation
   *       and/or other materials provided with the distribution.
   *     * Neither the name of the United States Government nor the
   *       names of its contributors may be used to endorse or promote products
   *       derived from this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   * DISCLAIMED. IN NO EVENT SHALL THE UNITED STATES GOVERNMENT BE LIABLE FOR ANY
   * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
   * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <head>
        <title>Admin GUI Load Test Data</title>
        <link rel="icon" type="image/ico" href="/images/favicon-admingui.ico"/>
    </head>
    
    <h:body>
        <ui:composition template="/resources/Templates/BaseTemplate.xhtml">
            <ui:define name="metatag"></ui:define>
            <ui:define name="content">
                <h1 class="section-header">Test Data</h1>
                <!-- BEGIN: MAIN CONTENT - TAB BAR NAVIGATION -->
                <p:tabView id="patientTabview" effect="fade" effectDuration="normal" dynamic="true" activeIndex="#{tabBean.loadTestDataTabIndex}" styleClass="tabs-override tabs-ovr-blue">
                    <p:ajax event="tabChange" listener="#{tabBean.onLoadTestDataTabChange}" />
                    <!-- BEGIN: MAIN CONTENT - TAB PANES - All the data/information is contained here -->
                    <div class="tab-content">
                        <!-- BEGIN: TAB-PANE-BLOCK -->
                        <p:tab id="#{tabBean.LTDPATIENTTAB}" title="Patient" closable="false">
                            <div class="tab-pane active" id="patients">
                                <!-- BEGIN: FORM-BLOCK -->  
                                <h:form class="form-horizontal" role="form" id="createPatientForm">
                                <p:dialog id="patientDlg" header="Creating/Editing - #{loadTestDataPatientBean.patientId}"  widgetVar="patientDlg" modal="true" draggable="false" resizable="false" width="500" >
                                <p:outputPanel id="patientOutputPanel" >

                                    <div class="content-block content form-block center-block"> 
                                        <p:messages id="patientAddMessages" autoUpdate="true" closable="true" severity="error" redisplay="false" />
                                        <p:messages id="patientUpdateMessages" autoUpdate="true" closable="true" severity="info" redisplay="false" />
                                        <h:panelGrid columns="2" cellpadding="5">
                                            <p:outputLabel for="inputFirstName" value="First Name: " />
                                            <p:inputMask id="inputFirstName" value="#{loadTestDataPatientBean.firstName}"  maxlength="64" required="true" requiredMessage="First Name required."/>

                                            <p:outputLabel for="inputLastName" value="Last Name: " />
                                            <p:inputMask id="inputLastName" value="#{loadTestDataPatientBean.lastName}"  maxlength="64" required="true" requiredMessage="Last Name required."/>

                                            <p:outputLabel for="inputDateOfBirth" value="Date of Birth: " />
                                            <p:calendar id="inputDateOfBirth" value="#{loadTestDataPatientBean.dateOfBirth}" showOn="button" pattern="MM/dd/yyyy" required="true" requiredMessage="Date Of Birth Required"/>

                                            <p:outputLabel for="inputGender" value="Gender: " />
                                            <p:inputMask id="inputGender" value="#{loadTestDataPatientBean.gender}"  maxlength="2" required="true" requiredMessage="Gender required."/>

                                            <p:outputLabel for="inputSsn" value="SSN:" />
                                            <p:inputMask id="inputSsn" value="#{loadTestDataPatientBean.ssn}" mask="999-99-9999" required="true" requiredMessage="SSN required."/>
                                        </h:panelGrid> 
                                         <div class="form-group">
                                            <div class="col-sm-12">
                                                <div class="form-button-row">
                                                    <p:commandButton id="submit" update=":patientTabview:patientsList:patientDataTable, inputFirstName, inputLastName, inputDateOfBirth, inputGender, inputSsn, patientAddMessages" value="Save" action="#{loadTestDataPatientBean.savePatient()}" styleClass="btn btn-primary" icon="ui-icon-circle-plus" />
                                                    <p:commandButton id="closePatientDlg" update=":patientTabview:patientsList:patientDataTable" value="Close" oncomplete="PF('patientDlg').hide();"  styleClass="btn btn-default" icon="ui-icon-circle-close"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </p:outputPanel></p:dialog>
                                </h:form>
                                <!-- END: FORM-BLOCK -->
                                <!-- BEGIN: LISTING-BLOCK -->
                                <div class="content-block">
                                    <h2 class="subsection-header">Manage Patients</h2>
                                    <div class="content">
                                        <div class="form-block center-block">
                                            <h:form id="patientsList" class="form-horizontal">
                                                <p:messages id="patientsListMessages" redisplay="false" autoUpdate="true" closable="true" severity="warning" />
                                                <p:dataTable id="patientDataTable" var="patient" value="#{loadTestDataPatientBean.patients}" selection="#{loadTestDataPatientBean.selectedPatient}" rowKey="#{patient.patientId}" styleClass="table table-striped table-domains">
                                                    <p:column headerText="" selectionMode="single" />
                                                    <p:column headerText="Patient Id">
                                                        <h:outputText value="#{patient.patientId}" />
                                                    </p:column>
                                                    <p:column headerText="Last Name">
                                                        <h:outputText value="#{patient.lastName}" />
                                                    </p:column>
                                                    <p:column headerText="First Name">
                                                        <h:outputText value="#{patient.firstName}" />
                                                    </p:column>
                                                    <p:column headerText="Birth Date">
                                                        <h:outputText value="#{patient.dateOfBirth}">
                                                            <f:convertDateTime pattern="MM-dd-yyyy" />
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Gender">
                                                        <h:outputText value="#{patient.gender}" />
                                                    </p:column>
                                                </p:dataTable>
                                                <div class="form-group">
                                                    <div class="col-sm-12">
                                                        <div class="form-button-row">
                                                            <p:commandButton update=":patientTabview:createPatientForm" value="New" actionListener="#{loadTestDataPatientBean.newPatient}" oncomplete="PF('patientDlg').show();"  styleClass="btn btn-primary" icon="ui-icon-circle-plus" />
                                                            <p:commandButton update=":patientTabview:createPatientForm" value="Edit" actionListener="#{loadTestDataPatientBean.editPatient}" oncomplete="PF('patientDlg').show();" styleClass="edit-button" icon="ui-icon-pencil">
                                                                <p:resetInput target=":patientTabview:createPatientForm" />
                                                            </p:commandButton>
                                                            <p:commandButton update="patientDataTable,patientsListMessages" value="Delete" actionListener="#{loadTestDataPatientBean.deletePatient}" styleClass="delete-button" icon="ui-icon-closethick"/>
                                                        </div>
                                                    </div>
                                                </div>

                                            </h:form>
                                        </div>
                                    </div>
                                </div>
                                <!-- BEGIN: LISTING-BLOCK -->
                            </div>
                        </p:tab>
                        <!-- END: TAB PANE - USER ACCOUNTS -->

                        <!-- TODO: ADD-MORE-TABS -->
                    </div>
                    <!-- END: MAIN CONTENT - TAB PANES - All the data/information -->
                </p:tabView>
                <!-- END: MAIN CONTENT - TAB BAR NAVIGATION -->
            </ui:define>
        </ui:composition>
    </h:body>
</html>