<?xml version="1.0" encoding="UTF-8"?>
<!-- You may freely edit this file. See commented blocks below for -->
<!-- some examples of how to customize the build. -->
<!-- (If you delete it and reopen the project it will be recreated.) -->
<!-- By default, only the Clean and Build commands use this build script. -->
<!-- Commands such as Run, Debug, and Test only use this build script if -->
<!-- the Compile on Save feature is turned off for the project. -->
<!-- You can turn off the Compile on Save (or Deploy on Save) setting -->
<!-- in the project's Project Properties dialog box.-->
<project name="EntityAuditLogQueryEJB" default="default" basedir="." xmlns:ejbjarproject="http://www.netbeans.org/ns/j2ee-ejbjarproject/3">
    <description>Builds, tests, and runs the project EntityAuditLogQueryEJB.</description>
    <import file="nbproject/build-impl.xml"/>

    <property name="deploy.type" value="ejb" />
    <property name="deploy.isDeployable" value="true"/>

    <import file="../../../build.lib.xml"/>

    <target name="build">
        <property name="target-to-call" value="dist"/>
        <antcall target="call-target-in-isolation-if-out-of-date"/>
    </target>
    <target name="clean-build" depends="clean,dist"/>
    <target name="clean-test" depends="clean,dist"/>
    <target name="build-test" depends="dist"/>
	
	<target name="wsimport-service-EntityAuditLogQuery" depends="wsimport-init">

            <copy todir="${basedir}/${meta.inf}/wsdl/EntityAuditLogQuery">
                    <fileset dir="${basedir}/${meta.inf}/xml-resources/web-services/EntityAuditLogQuery/wsdl/"/>
            </copy>
            <echo message="copy schemas"/>
            <copy todir="${basedir}/${meta.inf}/wsdl/schemas/">
                <fileset dir="${basedir}/${meta.inf}/xml-resources/web-services/EntityAuditLogQuery/schemas/"/>
            </copy>
	</target>
	<target name="wsimport-service-NhincAuditQueryProxy" depends="wsimport-init">

            <copy todir="${basedir}/${meta.inf}/wsdl/NhincAuditQueryProxy">
                    <fileset dir="${basedir}/${meta.inf}/xml-resources/web-services/NhincAuditQueryProxy/wsdl/"/>
            </copy>
            <echo message="copy schemas"/>
            <copy todir="${basedir}/${meta.inf}/wsdl/schemas/">
                    <fileset dir="${basedir}/${meta.inf}/xml-resources/web-services/NhincAuditQueryProxy/schemas/"/>
            </copy>
	</target> 
	
<!--	<target depends="init" if="no.dist.ear.dir" name="-deps-module-jar" unless="no.deps">
            <property name="project.NhincLib.Absolute" location="${project.NhincLib}"/>
            <property name="project.NhincSamlTokenLib.Absolute" location="${project.NhincSamlTokenLib}"/>
            <property name="project.AuditRepositoryProxy.Absolute" location="${project.AuditRepositoryProxy}"/>
            <property name="project.AuditRepositoryProxyImpl.Absolute" location="${project.AuditRepositoryProxyImpl}"/>
            <property name="project.NhincDataTransformsLib.Absolute" location="${project.NhincDataTransformsLib}"/>
            <property name="project.NhinServiceProxy.Absolute" location="${project.NhinServiceProxy}"/>

            <ant dir="${project.NhincLib.Absolute}" antfile="${project.NhincLib.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.NhincSamlTokenLib.Absolute}" antfile="${project.NhincSamlTokenLib.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.AuditRepositoryProxy.Absolute}" antfile="${project.AuditRepositoryProxy.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.AuditRepositoryProxyImpl.Absolute}" antfile="${project.AuditRepositoryProxyImpl.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.NhincDataTransformsLib.Absolute}" antfile="${project.NhincDataTransformsLib.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.NhinServiceProxy.Absolute}" antfile="${project.NhinServiceProxy.Absolute}/build.xml" inheritall="false" target="jar"/>
	</target>
	<target depends="init" if="dist.ear.dir" name="-deps-ear-jar" unless="no.deps">
            <property name="project.NhincLib.Absolute" location="${project.NhincLib}"/>
            <property name="project.NhincSamlTokenLib.Absolute" location="${project.NhincSamlTokenLib}"/>
            <property name="project.AuditRepositoryProxyImpl.Absolute" location="${project.AuditRepositoryProxyImpl}"/>
            <property name="project.AuditRepositoryProxy.Absolute" location="${project.AuditRepositoryProxy}"/>
            <property name="project.NhincDataTransformsLib.Absolute" location="${project.NhincDataTransformsLib}"/>
            <property name="project.NhinServiceProxy.Absolute" location="${project.NhinServiceProxy}"/>

            <ant dir="${project.NhincLib.Absolute}" antfile="${project.NhincLib.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.NhincSamlTokenLib.Absolute}" antfile="${project.NhincSamlTokenLib.Absolute}/build.xml" inheritall="false" target="jar"/>
	    <ant dir="${project.AuditRepositoryProxyImpl.Absolute}" antfile="${project.AuditRepositoryProxyImpl.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.AuditRepositoryProxy.Absolute}" antfile="${project.AuditRepositoryProxy.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.NhincDataTransformsLib.Absolute}" antfile="${project.NhincDataTransformsLib.Absolute}/build.xml" inheritall="false" target="jar"/>
            <ant dir="${project.NhinServiceProxy.Absolute}" antfile="${project.NhinServiceProxy.Absolute}/build.xml" inheritall="false" target="jar"/>
	</target>
	<target depends="init" if="no.dist.ear.dir" name="deps-clean" unless="no.deps">
            <property name="project.NhincLib.Absolute" location="${project.NhincLib}"/>
            <property name="project.NhincSamlTokenLib.Absolute" location="${project.NhincSamlTokenLib}"/>
            <property name="project.AuditRepositoryProxyImpl.Absolute" location="${project.AuditRepositoryProxyImpl}"/>
            <property name="project.AuditRepositoryProxy.Absolute" location="${project.AuditRepositoryProxy}"/>
            <property name="project.NhincDataTransformsLib.Absolute" location="${project.NhincDataTransformsLib}"/>
            <property name="project.NhinServiceProxy.Absolute" location="${project.NhinServiceProxy}"/>
            <property name="project.NhinAuditQueryProxy.Absolute" location="${project.NhinAuditQueryProxy}"/>

            <ant dir="${project.NhincLib.Absolute}" antfile="${project.NhincLib.Absolute}/build.xml" inheritall="false" target="clean"/>
            <ant dir="${project.NhincSamlTokenLib.Absolute}" antfile="${project.NhincSamlTokenLib.Absolute}/build.xml" inheritall="false" target="clean"/>
            <ant dir="${project.AuditRepositoryProxyImpl.Absolute}" antfile="${project.AuditRepositoryProxyImpl.Absolute}/build.xml" inheritall="false" target="clean"/>
            <ant dir="${project.AuditRepositoryProxy.Absolute}" antfile="${project.AuditRepositoryProxy.Absolute}/build.xml" inheritall="false" target="clean"/>
            <ant dir="${project.NhincDataTransformsLib.Absolute}" antfile="${project.NhincDataTransformsLib.Absolute}/build.xml" inheritall="false" target="clean"/>
            <ant dir="${project.NhinServiceProxy.Absolute}" antfile="${project.NhinServiceProxy.Absolute}/build.xml" inheritall="false" target="clean"/>
	</target>-->
	<target depends="compile" name="library-inclusion-in-archive">
		<copy file="${file.reference.NhincLib.jar}" todir="${build.classes.dir}"/>
		<copy file="${file.reference.NhincSamlTokenLib.jar}" todir="${build.classes.dir}"/>
		<copy file="${file.reference.AuditRepositoryProxyImpl.jar}" todir="${build.classes.dir}"/>
		<copy file="${file.reference.AuditRepositoryProxy.jar}" todir="${build.classes.dir}"/>
		<copy file="${file.reference.NhincDataTransformsLib.jar}" todir="${build.classes.dir}"/>
		<copy file="${file.reference.NhinServiceProxy.jar}" todir="${build.classes.dir}"/>
	</target>
	<target depends="compile" name="library-inclusion-in-manifest">
		<basename file="${file.reference.NhincLib.jar}" property="included.lib.reference.NhincLib.jar"/>
		<copy file="${file.reference.NhincLib.jar}" todir="${dist.ear.dir}"/>
		<basename file="${file.reference.NhincSamlTokenLib.jar}" property="included.lib.reference.NhincSamlTokenLib.jar"/>
		<copy file="${file.reference.NhincSamlTokenLib.jar}" todir="${dist.ear.dir}"/>
		<basename file="${file.reference.AuditRepositoryProxyImpl.jar}" property="included.lib.reference.AuditRepositoryProxyImpl.jar"/>
		<copy file="${file.reference.AuditRepositoryProxyImpl.jar}" todir="${dist.ear.dir}"/>
		<basename file="${file.reference.AuditRepositoryProxy.jar}" property="included.lib.reference.AuditRepositoryProxy.jar"/>
		<copy file="${file.reference.AuditRepositoryProxy.jar}" todir="${dist.ear.dir}"/>
		<basename file="${file.reference.NhincDataTransformsLib.jar}" property="included.lib.reference.NhincDataTransformsLib.jar"/>
		<copy file="${file.reference.NhincDataTransformsLib.jar}" todir="${dist.ear.dir}"/>
		<basename file="${file.reference.NhinServiceProxy.jar}" property="included.lib.reference.NhinServiceProxy.jar"/>
		<copy file="${file.reference.NhinServiceProxy.jar}" todir="${dist.ear.dir}"/>
		<manifest file="${build.ear.classes.dir}/META-INF/MANIFEST.MF" mode="update">
			<attribute name="Class-Path" value="${included.lib.reference.NhincLib.jar} ${included.lib.reference.NhincSamlTokenLib.jar} ${included.lib.reference.AuditRepositoryProxyImpl.jar} ${included.lib.reference.AuditRepositoryProxy.jar} ${included.lib.reference.NhincDataTransformsLib.jar} ${included.lib.reference.NhinAuditQueryProxyImpl.jar} ${included.lib.reference.NhinAuditQueryProxy.jar}"/>
		</manifest>
	</target>
	<target depends="init" if="netbeans.home" name="undeploy-clean" unless="from.commandline">
		<nbundeploy failOnError="false" startServer="false"/>
	</target>
</project>
